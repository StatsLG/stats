<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>StatsLG â€” Demos</title>
  <meta name="description" content="Interactive demos created by StatsLG." />
  <link rel="icon" href="/favicon.ico" />
  <!-- Root-relative first; script below rewrites to ../ if needed -->
  <link id="site-css" rel="stylesheet" href="/style/bctcstyle.css">
</head>
<body>
  <div class="layout">
    <!-- Sidebar include -->
    <aside class="sidebar" aria-label="Site navigation" data-include="/partials/sidebar.html"></aside>

    <main>
      <header class="header">
        <h1>Demos</h1>
        <p class="text-muted">Quick links to interactive classroom demos and prototypes.</p>
      </header>

      <!-- Filter controls -->
      <section class="section">
        <div class="row">
          <div>
            <label for="demoSearch">Filter demos</label>
            <input id="demoSearch" type="search" placeholder="Type to filter (e.g., confidence, sampling, game)" />
          </div>
          <div>
            <label for="demoTag">Tag</label>
            <select id="demoTag">
              <option value="">All</option>
              <option value="stats">Stats</option>
              <option value="visualization">Visualization</option>
              <option value="classroom">Classroom</option>
              <option value="inference">Inference</option>
              <option value="sampling">Sampling</option>
              <option value="modeling">Modeling</option>
              <option value="game">Game</option>
            </select>
          </div>
        </div>
      </section>

      <section class="section">
        <h2>Featured</h2>
        <div class="grid" id="demoGrid">
          <!-- 1. Confidence Interval Visualizer -->
          <article class="card" data-tags="stats visualization classroom inference">
            <h3>Confidence Interval Visualizer</h3>
            <p>Animated coverage demo with repeated samples and intervals.</p>
            <div class="btns">
              <a class="btn" href="./cidemo.html">Open</a>
              <a class="btn outline" href="./cidemo.html#about">About</a>
            </div>
          </article>

          <!-- 2. Linear Model Demo -->
          <article class="card" data-tags="stats visualization classroom modeling">
            <h3>Linear Model Demo</h3>
            <p>See how residuals and least squares determine the best-fit line.</p>
            <div class="btns">
              <a class="btn" href="./linearmodeldemo.html">Open</a>
              <a class="btn outline" href="./linearmodeldemo.html#about">About</a>
            </div>
          </article>

          <!-- 3. Sample Distribution Demo -->
          <article class="card" data-tags="stats visualization classroom sampling">
            <h3>Sample Distribution Demo</h3>
            <p>Explore sample means and how distributions change with n.</p>
            <div class="btns">
              <a class="btn" href="./sampledistdemo.html">Open</a>
              <a class="btn outline" href="./sampledistdemo.html#about">About</a>
            </div>
          </article>

          <!-- 4. Sample Types Demo -->
          <article class="card" data-tags="stats classroom sampling">
            <h3>Sample Types Demo</h3>
            <p>Compare SRS, stratified, cluster, and systematic sampling.</p>
            <div class="btns">
              <a class="btn" href="./sampledemo.html">Open</a>
              <a class="btn outline" href="./sampledemo.html#about">About</a>
            </div>
          </article>

          <!-- 5. Variable Trainer game -->
          <article class="card" data-tags="classroom game visualization stats">
            <h3>Variable Trainer: Gotta Tame'em All</h3>
            <p>Battle-style practice with variable types and stats questions.</p>
            <div class="btns">
              <a class="btn" href="./gametest.html">Open</a>
              <a class="btn outline" href="./gametest.html#about">About</a>
            </div>
          </article>

          <!-- 6. CI & Hypothesis Test Visualized -->
          <article class="card" data-tags="stats visualization classroom inference">
            <h3>CI &amp; Hypothesis Test Visualized</h3>
            <p>Confidence intervals and hypothesis tests shown side-by-side.</p>
            <div class="btns">
              <a class="btn" href="./cihpdemo.html">Open</a>
              <a class="btn outline" href="./cihpdemo.html#about">About</a>
            </div>
          </article>

                    <!-- 7. Monty Hall Problem -->
          <article class="card" data-tags="stats visualization classroom inference">
            <h3>Let's Make A Deal!</h3>
            <p>Probability practice.</p>
            <div class="btns">
              <a class="btn" href="./montyhall.html">Open</a>
              <a class="btn outline" href="./cihpdemo.html#about">About</a>
            </div>
          </article>
        </div>
      </section>

      <footer class="site-footer">
        Last updated: <span id="lastUpdated"></span>
      </footer>
    </main>
  </div>

  <!-- Path fixer (handles /demo/ subdirectory hosting) -->
  <script>
    (function ensurePathsWorkEverywhere(){
      const isSubdir = location.pathname.replace(/\/index\.html?$/,'').split('/').filter(Boolean).length > 0;
      if (isSubdir) {
        // Sidebar include path
        document.querySelectorAll('[data-include]').forEach(el=>{
          const url = el.getAttribute('data-include') || '';
          if (url.startsWith('/')) el.setAttribute('data-include', '..' + url);
        });
        // CSS fallback
        const link = document.getElementById('site-css');
        if (link && link.getAttribute('href').startsWith('/')) {
          link.setAttribute('href', '..' + link.getAttribute('href'));
        }
      }
    })();
  </script>

  <!-- Inject sidebar + highlight active link -->
  <script>
  (function () {
    async function injectIncludes() {
      const nodes = document.querySelectorAll('[data-include]');
      await Promise.all(Array.from(nodes).map(async (el) => {
        let url = el.getAttribute('data-include');
        if (!url.startsWith('http') && url.startsWith('/') &&
            location.pathname.split('/').filter(Boolean).length > 0) {
          url = '..' + url;
        }
        const resp = await fetch(url, { cache: 'no-cache' });
        el.innerHTML = await resp.text();

        // Sidebar tweaks: current year + active link
        const yr = el.querySelector('#yr'); if (yr) yr.textContent = new Date().getFullYear();
        const here = location.pathname.replace(/\/index\.html?$/, '/');
        el.querySelectorAll('a[href]').forEach(a => {
          const target = new URL(a.getAttribute('href'), location.origin).pathname
            .replace(/\/index\.html?$/, '/');
          if (here === target || (here.startsWith(target) && target !== '/')) {
            a.classList.add('active');
          }
        });
      }));
    }
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', injectIncludes);
    } else {
      injectIncludes();
    }
  })();
  </script>

  <!-- Filter logic + last updated -->
  <script>
    (function(){
      const q = document.getElementById('demoSearch');
      const tag = document.getElementById('demoTag');
      const cards = Array.from(document.querySelectorAll('#demoGrid .card'));
      function applyFilter(){
        const term = (q?.value || '').toLowerCase().trim();
        const t = (tag?.value || '').toLowerCase();
        cards.forEach(card => {
          const hay = (card.textContent || '').toLowerCase();
          const tags = (card.getAttribute('data-tags') || '').toLowerCase();
          const matchTerm = !term || hay.includes(term);
          const matchTag = !t || tags.split(/\s+/).includes(t);
          card.style.display = matchTerm && matchTag ? '' : 'none';
        });
      }
      q?.addEventListener('input', applyFilter);
      tag?.addEventListener('change', applyFilter);
      applyFilter();

      document.getElementById('lastUpdated').textContent =
        new Date(document.lastModified).toLocaleString();
    })();
  </script>
</body>
</html>

