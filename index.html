<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>StatsLG</title>
  <meta name="description" content="StatsLG: notes, graphing tools, and analysis labs for learning statistics at BCTC." />
  <link rel="icon" href="/favicon.ico" />
  <link rel="stylesheet" href="/style/bctcstyle.css">
</head>
<body>
  <div class="wrap">
    <!-- ===== LEFT PANEL (BRAND SIDEBAR) ===== -->
    <!-- One-line placeholder. The HTML from /partials/sidebar.html will be injected here. -->
    <aside class="sidebar" aria-label="Site navigation" data-include="/partials/sidebar.html"></aside>

    <!-- ===== MAIN CONTENT ===== -->
    <main>
      <header>
        <h1>Welcome to StatsLG</h1>
        <p>Use the left panel to jump straight to graphing tools, analysis modules, or class notes.</p>
      </header>

      <section class="section">
        <h2>Graphing Modules</h2>
        <div class="grid">
          <article class="card">
            <h3>Bar Chart</h3>
            <p>Create and export a bar chart.</p>
            <div class="btns"><a class="btn" href="/graphing/barchart.html">Open</a></div>
          </article>
          <article class="card">
            <h3>Pie Chart</h3>
            <p>Slice labels, legend control, PNG export.</p>
            <div class="btns"><a class="btn" href="/graphing/piechart.html">Open</a></div>
          </article>
          <article class="card">
            <h3>Histogram</h3>
            <p>Auto binning + manual bins/bin width.</p>
            <div class="btns"><a class="btn" href="/graphing/histogram.html">Open</a></div>
          </article>
          <article class="card">
            <h3>Box &amp; Whisker</h3>
            <p>Grouped or overall, outliers, PNG export.</p>
            <div class="btns"><a class="btn" href="/graphing/boxplot.html">Open</a></div>
          </article>
          <article class="card">
            <h3>Scatter + Regression</h3>
            <p>Best-fit line, equation, r.</p>
            <div class="btns"><a class="btn" href="/graphing/scatterplot.html">Open</a></div>
          </article>
          <article class="card">
            <h3>Grouped Bar</h3>
            <p>Count/Percent, grouped or stacked.</p>
            <div class="btns"><a class="btn" href="/graphing/barchart2way.html">Open</a></div>
          </article>
        </div>
      </section>

      <section class="section">
        <h2>Analysis Modules</h2>
        <div class="grid">
          <article class="card">
            <h3>Descriptive Summary</h3>
            <p>Numerical &amp; categorical summaries, CSV export.</p>
            <div class="btns"><a class="btn" href="/descriptive/summary.html">Open</a></div>
          </article>
          <article class="card">
            <h3>One-Sample Mean Test</h3>
            <p>t/z test for a mean with CI.</p>
            <div class="btns"><a class="btn" href="/inference/onemean.html">Open</a></div>
          </article>
        </div>
      </section>

      <footer>
        Last updated: <span id="lastUpdated"></span>
      </footer>
    </main>
  </div>

  <script>
    // Footer year + last updated
    // (Also handled in the sidebar include for the sidebar year)
    document.getElementById('lastUpdated').textContent =
      new Date(document.lastModified).toLocaleString();
  </script>

  <!-- Load the include helper (injects /partials/sidebar.html into the <aside>) -->
  <script>
  (function () {
    async function injectIncludes() {
      const nodes = document.querySelectorAll('[data-include]');
      await Promise.all(Array.from(nodes).map(async (el) => {
        let url = el.getAttribute('data-include');

        // If your site is a GitHub *project* site (username.github.io/REPO),
        // change "/partials/..." to "/REPO/partials/..." or handle base here:
        // const base = location.pathname.split('/').filter(Boolean)[0] ? '/' + location.pathname.split('/')[1] : '';
        // if (url.startsWith('/')) url = base + url;

        const resp = await fetch(url, { cache: 'no-cache' });
        el.innerHTML = await resp.text();

        // Sidebar: set year & mark active link
        const yr = el.querySelector('#yr'); if (yr) yr.textContent = new Date().getFullYear();
        const here = location.pathname.replace(/\/index\.html$/, '/');
        el.querySelectorAll('a[href]').forEach(a => {
          const target = new URL(a.getAttribute('href'), location.origin).pathname
            .replace(/\/index\.html$/, '/');
          if (here === target || (here.startsWith(target) && target !== '/')) {
            a.classList.add('active');
          }
        });
      }));
    }
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', injectIncludes);
    } else {
      injectIncludes();
    }
  })();
  </script>
</body>
</html>
