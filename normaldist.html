<!DOCTYPE html>
<html lang="en">
<head>
    <title>Normal Distribution</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container" id="container">
        <button class="toggle-button" id="toggleButton">Open Calculator</button>
        <div class="left-panel" id="leftPanel">
            <button class="minimize-button calculator-button" onclick="toggleLeftPanel()">Minimize</button>
            <a class="nws-simulator-embed calculator-button" 
               data-nws-src="https://www.numworks.com/simulator/embed/#sid=122zbam" 
               data-nws-width="368px" 
               data-nws-height="720px">Open Calculator</a>
            <button class="font-button increase-font" onclick="changeFontSize('increase')">Increase Font</button>
            <button class="font-button decrease-font" onclick="changeFontSize('decrease')">Decrease Font</button>
            <script src="https://www.numworks.com/simulator/embed.js"></script>
            <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        </div>
        <div class="right-panel">
            <h1>Normal Distribution</h1>
            <h2>The Bell Curve</h2>
    
            <p>If a density curve follows a <strong>normal distribution</strong> (also known as a Gaussian distribution), it takes the shape of a bell-shaped curve. The normal distribution is fully characterized by two parameters:</p>
            <ul>
                <li>\(\mu\): The population mean, which determines the center of the curve.</li>
                <li>\(\sigma\): The population standard deviation, which controls the spread of the curve.</li>
            </ul>
            <p>A special case, called the <strong>standard normal distribution</strong>, occurs when \(\mu = 0\) and \(\sigma = 1\). This standardized form is widely used for statistical analysis.</p>
            <p>A <strong>z-score</strong> (denoted \(z\)) measures how many standard deviations an observation is above or below the mean. It is calculated as follows:</p>
            <ul>
                <li>For a population: \( z = \frac{x - \mu}{\sigma} \)</li>
                <li>For a sample: \( z = \frac{x - \bar{x}}{s} \), where \(\bar{x}\) is the sample mean and \(s\) is the sample standard deviation.</li>
            </ul>
            <p><strong>Examples of z-scores:</strong></p>
            <ul>
                <li>If \(z = 1\), the observation is 1 standard deviation above the mean.</li>
                <li>If \(z = -2.37\), the observation is 2.37 standard deviations below the mean.</li>
            </ul>
            <p>Z-scores allow us to transform any normal distribution into the standard normal distribution, making it easier to find percentiles, proportions, or probabilities (all represented by the area under the curve). Percentiles indicate the percentage of observations below a given value. Additionally, we can find an observation (\(x\)) given a percentile using the formula:</p>
            <p>\[ x = \mu + \sigma \cdot z \]</p>
            {{example_section}}
            <h2>Examples</h2>
            <h3>Female Heights</h3>
            <p>Suppose the heights of females are normally distributed with \(\mu = 65\) inches and \(\sigma = 5\) inches. Find the z-scores for the following heights:</p>
            <ol>
                <li><strong>70 inches:</strong> \( z = \frac{70 - 65}{5} = \frac{5}{5} = 1 \) (1 standard deviation above the mean)</li>
                <li><strong>65 inches:</strong> \( z = \frac{65 - 65}{5} = \frac{0}{5} = 0 \) (at the mean)</li>
                <li><strong>62 inches:</strong> \( z = \frac{62 - 65}{5} = \frac{-3}{5} = -0.6 \) (0.6 standard deviations below the mean)</li>
            </ol>
            <p>These z-scores can be used to find the percentile (area under the curve to the left of each height) using a standard normal table or calculator. For example, a z-score of 1 corresponds to approximately the 84th percentile, meaning 84% of females are shorter than 70 inches.</p>
            <p>Use the calculator on the left to compute z-scores or explore percentiles for other values!</p>
        </div>
    </div>
    <footer>
        <p>{{footer_text}}</p>
    </footer>

    <script>
        function toggleLeftPanel() {
            const leftPanel = document.getElementById('leftPanel');
            const container = document.getElementById('container');
            const toggleButton = document.getElementById('toggleButton');
            
            if (leftPanel.classList.contains('minimized')) {
                leftPanel.classList.remove('minimized');
                container.classList.remove('minimized');
                toggleButton.textContent = 'Open Calculator';
            } else {
                leftPanel.classList.add('minimized');
                container.classList.add('minimized');
                toggleButton.textContent = 'Open Calculator';
            }
        }

        function changeFontSize(action) {
            const rightPanel = document.querySelector('.right-panel');
            const currentSize = window.getComputedStyle(rightPanel).fontSize;
            let newSize = parseFloat(currentSize);
            
            if (action === 'increase') {
                newSize += 2;
            } else if (action === 'decrease') {
                newSize -= 2;
            }
            
            if (newSize < 12) newSize = 12;
            if (newSize > 24) newSize = 24;
            
            rightPanel.style.fontSize = `${newSize}px`;
        }

        document.getElementById('toggleButton').addEventListener('click', toggleLeftPanel);
    </script>
</body>
</html>