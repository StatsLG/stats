<!DOCTYPE html>
<html>
<head>
    <title>Sampling Distribution of the Sample Proportion</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container" id="container">
        <button class="toggle-button" id="toggleButton">Open Calculator</button>
        <div class="left-panel" id="leftPanel">
            <button class="minimize-button calculator-button" onclick="toggleLeftPanel()">Minimize</button>
            <a class="nws-simulator-embed calculator-button" data-nws-src="https://www.numworks.com/simulator/embed/#sid=122zbam" data-nws-width="368px" data-nws-height="720px">Open Calculator</a>
            <button class="font-button increase-font" onclick="changeFontSize('increase')">Increase Font</button>
            <button class="font-button decrease-font" onclick="changeFontSize('decrease')">Decrease Font</button>
            <script src="https://www.numworks.com/simulator/embed.js"></script>
            <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        </div>
        <div class="right-panel">
            <h1>Sampling Distribution of \(\hat{p}\)</h1>
            <h2>Estimating the Population Proportion</h2>
            
            <div class="content">
                <!-- Tabbed Section Moved Up -->
                <div class="tab">
                    <button class="tablinks active" onclick="openTab(event, 'Theory')">Theory</button>
                    <button class="tablinks" onclick="openTab(event, 'Examples')">Examples</button>
                </div>

                <div id="Theory" class="tabcontent active">
                    <p>The sample proportion \(\hat{p}\) estimates the population proportion \(p\):</p>
                    <ul>
                        <li>Population Proportion: \( p = \frac{\text{\# in population with characteristic}}{\text{\# in population}} \)</li>
                        <li>Sample Proportion: \( \hat{p} = \frac{\text{\# in sample with characteristic}}{n} \)</li>
                    </ul>

                    <h3>Key Properties</h3>
                    <ul>
                        <li>\(\mu_{\hat{p}} = p\)<br>The average value of \(\hat{p}\) across all possible samples equals \(p\).</li>
                        <li>\(\sigma_{\hat{p}} = \sqrt{\frac{p(1 - p)}{n}}\)<br>The standard error of \(\hat{p}\) is \(\sqrt{\frac{p(1 - p)}{n}}\).</li>
                    </ul>

                    <h3>Normal Approximation</h3>
                    <p>For large \(n\): \[ Z = \frac{\hat{p} - p}{\sqrt{\frac{p(1 - p)}{n}}} \] is approximately standard normal.</p>
                </div>

                <div id="Examples" class="tabcontent">
                    <h3>Examples</h3>
                    <section>
                        <h2>Example 3</h2>
                        <p>Suppose the presidentâ€™s approval rating is 56%, and we look at samples of size 100.</p>
                        <ol>
                            <li>Find \(\mu_{\hat{p}}\).</li>
                            <li>Find \(\sigma_{\hat{p}}\).</li>
                        </ol>
                        <input type="checkbox" id="ex3" class="toggle">
                        <label for="ex3" class="question">Click Here For Answer</label>
                        <div class="answer">
                            <p><strong>1.</strong> \(\mu_{\hat{p}} = p = 0.56\)</p>
                            <p><strong>2.</strong> \(\sigma_{\hat{p}} = \sqrt{\frac{p(1 - p)}{n}} = \sqrt{\frac{0.56 \cdot (1 - 0.56)}{100}} = \sqrt{\frac{0.56 \cdot 0.44}{100}} = \sqrt{\frac{0.2464}{100}} = \sqrt{0.002464} \approx 0.0496\)</p>
                        </div>
                    </section>
                    <section>
                        <h2>Example 4</h2>
                        <p>A survey of 1024 registered voters yields 512 who plan to vote for the republican candidate, where \(p\) is the proportion of all voters who plan to vote for the republican candidate.</p>
                        <ol>
                            <li>Calculate \(\hat{p}\).</li>
                            <li>Calculate the margin of error for a 95% confidence interval.</li>
                            <li>Calculate an estimate for the standard deviation of the sampling distribution.</li>
                            <li>The empirical rule says 95% of data is within 2 standard deviations. How does this relate to the margin of error?</li>
                        </ol>
                        <input type="checkbox" id="ex4" class="toggle">
                        <label for="ex4" class="question">Click Here For Answer</label>
                        <div class="answer">
                            <p><strong>1.</strong> \(\hat{p} = \frac{512}{1024} = 0.5\)</p>
                            <p><strong>2.</strong> Margin of error (95% CI): \( 1.96 \cdot \sigma_{\hat{p}} = 1.96 \cdot \sqrt{\frac{\hat{p}(1 - \hat{p})}{n}} = 1.96 \cdot \sqrt{\frac{0.5 \cdot 0.5}{1024}} = 1.96 \cdot \sqrt{\frac{0.25}{1024}} = 1.96 \cdot 0.015625 \approx 0.030625 \)</p>
                            <p><strong>3.</strong> Estimated \(\sigma_{\hat{p}} = \sqrt{\frac{\hat{p}(1 - \hat{p})}{n}} = \sqrt{\frac{0.5 \cdot 0.5}{1024}} = \sqrt{\frac{0.25}{1024}} = \sqrt{0.00024414} \approx 0.015625\)</p>
                            <p><strong>4.</strong> For 95% coverage, the empirical rule approximates 2 standard deviations: \( 2 \cdot \sigma_{\hat{p}} = 2 \cdot 0.015625 = 0.03125 \). The actual margin of error (using 1.96) is 0.030625, very close to 2 standard errors, showing how the 95% confidence interval aligns with the empirical rule.</p>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <p>Statistics Education Resource - April 2025</p>
    </footer>

    <script>
        function toggleLeftPanel() {
            const leftPanel = document.getElementById('leftPanel');
            const container = document.getElementById('container');
            const toggleButton = document.getElementById('toggleButton');
            const isMinimized = leftPanel.classList.toggle('minimized');
            container.classList.toggle('minimized', isMinimized);
            toggleButton.textContent = isMinimized ? 'Open Calculator' : 'Close Calculator';
        }

        function changeFontSize(action) {
            const rightPanel = document.querySelector('.right-panel');
            let size = parseFloat(getComputedStyle(rightPanel).fontSize);
            size += (action === 'increase') ? 2 : -2;
            size = Math.min(Math.max(size, 12), 24);
            rightPanel.style.fontSize = `${size}px`;
        }

        function openTab(evt, tabName) {
            const tabcontent = document.getElementsByClassName('tabcontent');
            for (let i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove('active');
            }
            const tablinks = document.getElementsByClassName('tablinks');
            for (let i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove('active');
            }
            document.getElementById(tabName).classList.add('active');
            evt.currentTarget.classList.add('active');
        }

        document.getElementById('toggleButton').addEventListener('click', toggleLeftPanel);
    </script>
</body>
</html>