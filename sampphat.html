<!DOCTYPE html>
<html>
<head>
    <title>Sampling Distribution of the Sample Proportion</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container" id="container">
        <button class="toggle-button" id="toggleButton">Open Calculator</button>
        <div class="left-panel" id="leftPanel">
            <button class="minimize-button calculator-button" onclick="toggleLeftPanel()">Minimize</button>
            <a class="nws-simulator-embed calculator-button" data-nws-src="https://www.numworks.com/simulator/embed/#sid=122zbam" data-nws-width="368px" data-nws-height="720px">Open Calculator</a>
            <button class="font-button increase-font" onclick="changeFontSize('increase')">Increase Font</button>
            <button class="font-button decrease-font" onclick="changeFontSize('decrease')">Decrease Font</button>
            <script src="https://www.numworks.com/simulator/embed.js"></script>
            <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        </div>
        <div class="right-panel">
            <h1>Sampling Distribution of \(\hat{p}\)</h1>
            <h2>Estimating the Population Proportion</h2>
            
            <div class="content">
                <p>The sample proportion \(\hat{p}\) estimates the population proportion \(p\). These are defined as:</p>
                <ul>
                    <li>Population Proportion: \( p = \frac{\text{\# in population with characteristic}}{\text{\# in population}} \)</li>
                    <li>Sample Proportion: \( \hat{p} = \frac{\text{\# in sample with characteristic}}{n} \)</li>
                </ul>

                <h3>Key Properties</h3>
                <ul>
                    <li>\(\mu_{\hat{p}} = p\)<br>
                        The average value of \(\hat{p}\) across all possible samples equals \(p\), the population proportion. This makes sense because the sampling distribution of \(\hat{p}\) is centered on the parameter it estimates (\(p\)).
                    </li>
                    <li>\(\sigma_{\hat{p}} = \sqrt{\frac{p(1 - p)}{n}}\)<br>
                        The standard deviation of \(\hat{p}\), also called the standard error, is \(\sqrt{\frac{p(1 - p)}{n}}\).
                    </li>
                </ul>

                <h3>Normal Approximation</h3>
                <p>If we sample from a population with proportion \(p\), then:</p>
                <p>\[ Z = \frac{\hat{p} - p}{\sqrt{\frac{p(1 - p)}{n}}} \]</p>
                <p>is approximately standard normal for large \(n\).</p>

                <!-- Tabbed Section -->
                <div class="tab">
                    <button class="tablinks active" onclick="openTab(event, 'Examples')">Examples</button>
                </div>

                <div id="Examples" class="tabcontent active">
                    <h3>Examples</h3>
                    <p><strong>Example 3</strong></p>
                    <p>Suppose the presidentâ€™s approval rating is 56%, and we look at samples of size 100.</p>
                    <ol>
                        <li>Find \(\mu_{\hat{p}}\).</li>
                        <li>Find \(\sigma_{\hat{p}}\).</li>
                    </ol>

                    <p><strong>Example 4</strong></p>
                    <p>A survey of 1024 registered voters yields 512 who plan to vote for the republican candidate, where \(p\) is the proportion of all voters who plan to vote for the republican candidate.</p>
                    <ol>
                        <li>Calculate \(\hat{p}\).</li>
                        <li>Calculate the margin of error (Recall this is \(\frac{1}{\sqrt{n}}\)).</li>
                        <li>Calculate an estimate for the standard deviation of the sampling distribution.</li>
                        <li>The empirical rule says that 95% of data should be within 2 standard deviations. Do you see where the margin of error comes from?</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <p>Statistics Education Resource - April 2025</p>
    </footer>

    <script>
        function toggleLeftPanel() {
            const leftPanel = document.getElementById('leftPanel');
            const container = document.getElementById('container');
            const toggleButton = document.getElementById('toggleButton');
            
            if (leftPanel.classList.contains('minimized')) {
                leftPanel.classList.remove('minimized');
                container.classList.remove('minimized');
                toggleButton.textContent = 'Open Calculator';
            } else {
                leftPanel.classList.add('minimized');
                container.classList.add('minimized');
                toggleButton.textContent = 'Open Calculator';
            }
        }

        function changeFontSize(action) {
            const rightPanel = document.querySelector('.right-panel');
            const currentSize = window.getComputedStyle(rightPanel).fontSize;
            let newSize = parseFloat(currentSize);
            
            if (action === 'increase') {
                newSize += 2;
            } else if (action === 'decrease') {
                newSize -= 2;
            }
            
            if (newSize < 12) newSize = 12;
            if (newSize > 24) newSize = 24;
            
            rightPanel.style.fontSize = `${newSize}px`;
        }

        document.getElementById('toggleButton').addEventListener('click', toggleLeftPanel);

        // Tab functionality
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active");
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active");
            }
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }
    </script>
</body>
</html>